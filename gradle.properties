# Gradle Build Performance Optimizations
# These settings improve build performance in Docker and CI environments

# Enable Gradle Build Cache
org.gradle.caching=true

# Enable parallel execution
org.gradle.parallel=true

# Configure parallel workers (adjust based on available CPU cores)
org.gradle.workers.max=4

# Increase JVM heap size for Gradle daemon
org.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m -XX:+UseG1GC

# Enable configuration cache (Gradle 6.6+)
org.gradle.unsafe.configuration-cache=true

# Reuse outputs from previous builds
org.gradle.unsafe.configuration-cache-problems=warn

# Keep daemon running for faster subsequent builds
org.gradle.daemon=true

# Timeout for idle daemon (5 minutes)
org.gradle.daemon.idletimeout=300000

# Enable file system watching for incremental builds
org.gradle.vfs.watch=true

# Console output
org.gradle.console=plain

# Kotlin specific optimizations
kotlin.incremental=true
kotlin.incremental.java=true
kotlin.incremental.multiplatform=true
kotlin.caching.enabled=true
kotlin.parallel.tasks.in.project=true

# Kapt optimizations (if using annotation processing)
kapt.incremental.apt=true
kapt.use.worker.api=true

# Android Gradle Plugin optimizations (if applicable)
android.enableBuildCache=true
android.buildCacheDir=.gradle/android-build-cache